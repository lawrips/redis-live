<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="//fb.me/react-0.14.3.js"></script>
<script src="//fb.me/react-dom-0.14.3.js"></script>
<script src="https://unpkg.com/babel-core@5.8.38/browser.min.js"></script>


<script src='https://cdn.rawgit.com/moroshko/react-autosuggest/0881eb3/dist/standalone/autosuggest.min.js'></script>
<link rel="stylesheet" type="text/css" href="app.css">


<div class="row">
    <div class="col-lg-10">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h2 style="font-weight: lighter;">
                    <span>Redis LIVE - a fast & simple Redis dashboard</span>
                </h2>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-10">
        <div class="panel panel-default">
            <div class="panel-heading">
                <span style="font-size: x-large; font-weight: lighter;">Command Line</span>
            </div>
            <div class="panel-body">
                <div class="row" >            
                    <div class="form-group col-lg-10">
                        <label>
                            Enter command:
                        </label>
                        <div id="commandInput"></div>
                    </div>
                </div>
                <div class="row">            
                    <div class="form-group col-lg-8">
                        <label>
                            <br>
                            Results
                        </label>
                        <div id="commandOutput" >
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="row">
    <div class="col-lg-10">
        <div class="panel panel-default" >
            <div class="panel-heading"  id="serverHeading">
                <span style="font-size: x-large; font-weight: lighter;">Server Status</span>
                <span id="serverStatusToggle" style="font-size: larger; font-weight: lighter;">(click to expand)</span>
            </div>
            <div class="panel-body"">
                <div class="row">            
                    <div class="form-group col-lg-10">
                        <div class="form-group">
                            <div id="serverSelector"></div>
                        </div>
                        <div class="form-group">
                            <div id="serverStatus"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-10">
        <div class="panel panel-default"  id="clusterHeading">
            <div class="panel-heading">
                <span style="font-size: x-large; font-weight: lighter;">Cluster Status</span>
                <span id="clusterStatusToggle" style="font-size: larger; font-weight: lighter;">(click to hide)</span>
            </div>
            <div class="panel-body"">
                <div class="row">            
                    <div class="form-group col-lg-12">
                        <div class="form-group">
                            <div id="clusterStatus"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
let serverStatusToggle = false;
$('#serverStatus').toggle();
$('#serverHeading').click(function() {
    serverStatusToggle = !serverStatusToggle;
    if (serverStatusToggle) $('#serverStatusToggle').text('(click to expand)');
    else $('#serverStatusToggle').text('(click to hide)');
    $('#serverStatus').slideToggle();
})

let clusterStatusToggle = false;
$('#clusterHeading').click(function() {
    clusterStatusToggle = !clusterStatusToggle;
    if (clusterStatusToggle) $('#clusterStatusToggle').text('(click to expand)');
    else $('#cclusterStatus').text('(click to hide)');
    $('#clusterStatus').slideToggle();
})

// load hosts to be accessed later
</script>

<script src="/react/bundle.js"></script>
<script>
    var redisLive = new RedisLive({
        // the list of hosts 
        hosts : {{{hosts}}},
        // list of supported commands
        commands: {{{commands}}},
        
        // ui components
        commandOutput : document.getElementById('commandOutput'),
        commandInput : document.getElementById('commandInput'),
        serverStatus : document.getElementById('serverStatus'),
        clusterStatus : document.getElementById('clusterStatus'),
    })
</script>

